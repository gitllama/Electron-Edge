!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=9)}([function(e,t){e.exports=require("electron")},function(e,t,n){"use strict";const o=n(0),i=n(3),l=n(2),r=n(8);let c,a;t.mainWindow=function(){return c},t.subWindow=function(){return a},t.getConfig=function(){return r},t.sendMain=function(e,t){let n=Array.prototype.slice.call(arguments);Reflect.apply(c.webContents.send,c.webContents,n)},t.sendSub=function(e,t){a&&a.webContents.send(e,t)},t.sendAll=function(e,t){c&&c.webContents.send(e,t),a&&a.webContents.send(e,t)},t.createBrowserWindow=function(e,t,n){(c=new o.BrowserWindow({title:e,width:n.window.width,height:n.window.height,kiosk:n.window.kiosk||!1})).loadURL(l.format({pathname:i.join(__dirname,t),protocol:"file:",slashes:!0})),c.webContents.on("did-finish-load",function(){c.webContents.send("INIT_ASYNCLATEST",n)}),c.on("closed",function(){c=null})},t.createBrowserSubWindow=function(e,t,n){return null==a?((a=new o.BrowserWindow({title:e,width:n.window.width,height:n.window.height,frame:!1})).loadURL(l.format({pathname:i.join(__dirname,t),protocol:"file:",slashes:!0})),a.webContents.on("did-finish-load",function(){a.webContents.send("INIT_ASYNCLATEST",n),logic.redraw()}),void a.on("closed",()=>{a=null})):void 0}},function(e,t){e.exports=require("url")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("fs")},function(e,t,n){"use strict";const o=n(0),i=(o.ipcMain,o.app,n(4)),l=n(1);t.printpdf=function(e){let t=o.dialog.showSaveDialog(null,{title:"Save As",defaultPath:".",filters:[{name:"pdf file",extensions:["pdf"]}]});void 0!==t&&e.webContents.printToPDF({marginsType:1,printBackground:!1,printSelectionOnly:!1,pageSize:"A4"},(e,n)=>{if(e)throw e;i.writeFile(t,n,e=>{if(e)throw e;console.log("Write PDF successfully.")})})},t.savefileas=function(e){let t=o.dialog.showSaveDialog(null,{title:"Save As",defaultPath:".",filters:[{name:"markdown file",extensions:["md"]}]});void 0!==t&&e.webContents.send("SAVEFILE_ASYNCLATEST",t)},t.redraw=function(){let e=o.Menu.getApplicationMenu().items.filter(e=>"Preview"==e.label)[0].submenu.items.filter(e=>1==e.checked);l.sendAll("preview-change",e[0].label),l.sendMain("redraw")}},function(e,t,n){"use strict";const o=n(0),i=n(1),l=o.app,r=n(5);function c(e){const t=o.Menu.getApplicationMenu();t.items.View,t.items.filter(e=>"View"==e.label)[0].submenu.items.forEach(e=>{e.checked=!1}),e.checked=!0,i.sendMain("view-change",e.label)}function a(e){const t=o.Menu.getApplicationMenu();t.items.Preview,t.items.filter(e=>"Preview"==e.label)[0].submenu.items.forEach(e=>{e.checked=!1}),e.checked=!0,i.sendAll("preview-change",e.label)}t.createMenu=function(){const e=o.Menu;e.setApplicationMenu(e.buildFromTemplate([{label:"Menu",submenu:[{label:"FileOpen",accelerator:"CmdOrCtrl+O",click(){let e=o.dialog.showOpenDialog(null,{properties:["openFile"],title:"Select a Markdown file",defaultPath:".",filters:[{name:"markdown file",extensions:["md"]}]});e&&i.mainWindow().webContents.send("READFILE_ASYNCLATEST",e[0])}},{type:"separator"},{label:"Save",accelerator:"CmdOrCtrl+S",click(){i.mainWindow().webContents.send("SAVEFILE_ASYNCLATEST",null)}},{label:"Save As...",accelerator:"CmdOrCtrl+Shift+S",click(){r.savefileas(i.mainWindow())}},{type:"separator"},{label:"PrintPDF",accelerator:"CmdOrCtrl+P",click(){r.printpdf(i.mainWindow())}},{type:"separator"},{label:"Exit",accelerator:"CmdOrCtrl+Q",click(){l.quit()}}]},{label:"Memory",submenu:[{label:"IGXL_DatalogOpen",click(){let e=o.dialog.showOpenDialog(null,{properties:["openFile","multiSelections"],title:"Select a txt file",defaultPath:".",filters:[{name:"txt file",extensions:["txt"]}]});e&&i.mainWindow().webContents.send("READDATALOG_ASYNCLATEST",e)}}]},{label:"Edit",submenu:[{role:"undo"},{role:"redo"},{type:"separator"},{role:"cut"},{role:"copy"},{role:"paste"},{role:"selectall"}]},{label:"View",submenu:[{label:"Editor",type:"checkbox",checked:!0,click(e){c(e)}},{label:"Split",type:"checkbox",checked:!1,click(e){c(e)}},{label:"Preview",type:"checkbox",checked:!1,click(e){c(e)}},{type:"separator"},{label:"Open SubWindow",click(){i.createBrowserSubWindow("Preview","../render/index_sub.html",i.getConfig())}},{role:"toggleDevTools"}]},{label:"Preview",submenu:[{label:"Default",type:"checkbox",checked:!0,click(e){a(e)}},{label:"A4",type:"checkbox",checked:!1,click(e){a(e)}},{label:"Slide",type:"checkbox",checked:!1,click(e){a(e)}},{label:"Memory",type:"checkbox",checked:!1,click(e){a(e)}},{type:"separator"},{label:"Next",accelerator:"Alt+N",click(e){i.sendAll("page-change",1)}},{label:"Back",accelerator:"Alt+B",click(e){i.sendAll("page-change",-1)}},{type:"separator"},{role:"togglefullscreen"},{label:"Redraw",accelerator:"CmdOrCtrl+R",click(e){r.redraw()}}]}]))}},function(e,t,n){"use strict";const o=n(0),i=o.ipcMain,l=o.app,r=n(1);t.createIPC=function(){i.on("sync-html",(e,t)=>{r.subWindow()&&r.subWindow().webContents.send("sync-html",t)}),i.on("change-title",(e,t)=>{console.log(t),r.mainWindow().setTitle(`${t} - ${l.getName()}`)})}},function(e){e.exports={window:{width:800,height:600,devTool:!0},shortcut:{global:{"ctrl+u":"SHORTCUT_INC","ctrl+i":"SHORTCUT_INC"},main:{}},data:{path:"./data"},defaultmap:{config:{wfsize:200,offsetX:12.2,offsetY:4,chipSizeX:24.8,chipSizeY:17.2,countX:9,countY:12,edge:5,notch:9,notchside:0},effective:{1:{y:1,x:3,wt:22},2:{y:1,x:4,wt:23},3:{y:1,x:5,wt:42},4:{y:2,x:2,wt:43},5:{y:2,x:3,wt:41},6:{y:2,x:4,wt:24},7:{y:2,x:5,wt:21},8:{y:2,x:6,wt:5},9:{y:3,x:2,wt:6},10:{y:3,x:3,wt:20},11:{y:3,x:4,wt:25},12:{y:3,x:5,wt:40},13:{y:3,x:6,wt:44},14:{y:4,x:7,wt:54},15:{y:4,x:6,wt:45},16:{y:4,x:5,wt:39},17:{y:4,x:4,wt:26},18:{y:4,x:3,wt:19},19:{y:4,x:2,wt:7},20:{y:4,x:1,wt:4},21:{y:5,x:1,wt:3},22:{y:5,x:2,wt:8},23:{y:5,x:3,wt:18},24:{y:5,x:4,wt:27},25:{y:5,x:5,wt:38},26:{y:5,x:6,wt:46},27:{y:5,x:7,wt:53},28:{y:6,x:7,wt:52},29:{y:6,x:6,wt:47},30:{y:6,x:5,wt:37},31:{y:6,x:4,wt:28},32:{y:6,x:3,wt:17},33:{y:6,x:2,wt:9},34:{y:6,x:1,wt:2},35:{y:7,x:1,wt:1},36:{y:7,x:2,wt:10},37:{y:7,x:3,wt:16},38:{y:7,x:4,wt:29},39:{y:7,x:5,wt:36},40:{y:7,x:6,wt:48},41:{y:7,x:7,wt:51},42:{y:9,x:2,wt:49},43:{y:8,x:6,wt:35},44:{y:8,x:5,wt:30},45:{y:8,x:4,wt:15},46:{y:8,x:3,wt:11},47:{y:8,x:2,wt:12},48:{y:9,x:3,wt:14},49:{y:9,x:4,wt:31},50:{y:9,x:5,wt:34},51:{y:9,x:6,wt:50},52:{y:10,x:5,wt:33},53:{y:10,x:4,wt:32},54:{y:10,x:3,wt:13}}}}},function(e,t,n){"use strict";const o=n(0),i=o.app,l=(o.ipcMain,n(3),n(2),n(1)),r=n(7),c=n(6);function a(){l.createBrowserWindow(i.getName(),"../render/index.html",l.getConfig()),c.createMenu(),r.createIPC()}i.on("ready",()=>{a(),function(){const e=o.globalShortcut,t=l.getConfig().shortcut.global;for(let n in t)e.register(n,()=>{l.mainWindow().webContents.send(n,t[n])})}()}),i.on("activate",()=>{null===l.mainWindow()&&a()}),i.on("window-all-closed",()=>{"darwin"!==process.platform&&i.quit()}),process.on("uncaughtException",e=>{console.error(e)})}]);